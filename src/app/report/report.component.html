<app-map [viewVector]="viewVector" (coordinates)="setCoordinates($event)" [setInteractions]="setInteractions"
    [removeInteractions]="removeInteractions">
</app-map>
<form #form="ngForm" (ngSubmit)="onReport(form)">
    <!-- <div class="names">
        <div class="firstName">
            <label for="firstName">Име</label>
            <input type="text" name="firstName" id="firstName" ngModel #inputFirstName="ngModel" required>
        </div>
        <div class="lastName">
            <label for="lastName">Фамилия</label>
            <input type="text" name="lastName" id="lastName" ngModel #inputLastName="ngModel" required>
        </div>
    </div>
    <div class="contacts">
        <div class="email">
            <label for="email">Електронна поща</label>
            <input type="email" name="email" id="email" ngModel #inputEmail="ngModel" required>
        </div>
        <div class="phone">
            <label for="phone">Tелефон</label>
            <input type="text" name="phone" id="phone" ngModel #inputPhone="ngModel" required>
        </div>
    </div> -->
    <div class="images">
        <div class="img-container" *ngIf="!!urls">
            <div class="img-card" *ngFor="let url of urls; let index = index;">
                <img [src]="url">
                <span class="img-delete" (click)="deleteImage(url, index)"><i class="fa-solid fa-xmark"></i></span>
            </div>
        </div>
        <div class="input-field">
            <label id="images-input-label" for="images">
                Избери снимка
            </label>
            <input type="file" id="images" ngModel #inputImages multiple="multiple"
                accept="image/jpeg, image/png, image/jpg" name="images" autocomplete="off"
                (change)="detectFiles($event)" />
        </div>
    </div>
    <div class="content">
        <div class="coordinates">
            <label for="coordinates"><i class="fa-solid fa-location-crosshairs"></i>Координати</label>
            <input type="text" name="coordinates" id="coordinates" [ngModel]="coordinates" #inputCoordinates="ngModel"
                required readonly>
            <button type="button" [style]="{ backgroundColor: interactionMode ? 'grey' : 'brown' }"
                [disabled]="interactionMode" (click)="onSetInteractions()">
                Посочи на картата
            </button>
            <button type="button" [style]="{ backgroundColor: !interactionMode ? 'grey' : 'brown' }"
                [disabled]="!interactionMode" (click)="onDeleteInteractions()">
                Изтрий
            </button>
        </div>
        <div class="reason">
            <label for="reason-select">Основание</label>
            <select name="reason-select" id="reason-select" class="reason-select" ngModel #selectReason="ngModel"
                required>
                <option value="logging">Незаконен дърводобив</option>
                <option value="transport">Незаконен транспорт</option>
                <option value="trash">Замърсяване</option>
                <option value="other">Друго</option>
            </select>
        </div>
    </div>
    <div class="description">
        <label for="phone">Описание</label>
        <textarea name="description" id="description" cols="40" rows="7" ngModel #textDescription="ngModel"
            required>Описание</textarea>
    </div>

    <button [style]="{ backgroundColor: form.invalid ? 'grey' : 'green' }" [disabled]="form.invalid">
        Изпрати
    </button>
</form>